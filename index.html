<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <meta name="theme-color" content="#0f172a" />
  <meta name="description" content="中文 ↔ 泰文 即時語音翻譯，適用於工廠溝通" />
  <title>中泰翻譯</title>
  <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
  <link rel="apple-touch-icon" href="/icons/icon-192.svg" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Noto+Sans+Thai:wght@400;500;700;900&display=swap"
    rel="stylesheet" />
</head>

<body>
  <!-- 角色選擇畫面 -->
  <div id="role-screen" class="screen active">
    <div class="role-header">
      <div class="app-logo">🌏</div>
      <h1>中泰翻譯</h1>
      <p class="subtitle">เลือกบทบาทของคุณ / 選擇你的角色</p>
    </div>
    <div class="role-cards">
      <button class="role-card" data-role="supervisor">
        <div class="role-icon">👔</div>
        <div class="role-label">主管</div>
        <div class="role-desc">中文 → 泰文</div>
      </button>
      <button class="role-card" data-role="worker">
        <div class="role-icon">🏭</div>
        <div class="role-label">พนักงาน</div>
        <div class="role-desc">ไทย → จีน</div>
      </button>
    </div>
  </div>

  <!-- 主翻譯畫面 -->
  <div id="translate-screen" class="screen">
    <header class="top-bar">
      <button id="btn-back" class="icon-btn" aria-label="返回">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M15 18l-6-6 6-6" />
        </svg>
      </button>
      <div id="mode-label" class="mode-label">主管模式 · 中文 → 泰文</div>
      <button id="btn-settings" class="icon-btn" aria-label="設定">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3" />
          <path
            d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" />
        </svg>
      </button>
    </header>

    <!-- 額度顯示 -->
    <div id="quota-bar" class="quota-bar">
      <div class="quota-item">
        <span class="quota-label">每分鐘</span>
        <div class="quota-meter">
          <div id="rpm-fill" class="quota-fill"></div>
        </div>
        <span id="rpm-text" class="quota-value">30/30</span>
      </div>
      <div class="quota-item">
        <span class="quota-label">今日</span>
        <div class="quota-meter">
          <div id="rpd-fill" class="quota-fill"></div>
        </div>
        <span id="rpd-text" class="quota-value">1500/1500</span>
      </div>
      <div id="quota-cooldown" class="quota-cooldown" style="display:none">
        ⏳ <span id="cooldown-text"></span>
      </div>
    </div>

    <!-- 對話歷史 -->
    <div id="chat-area" class="chat-area">
      <div class="chat-placeholder">
        <div class="placeholder-icon">🎤</div>
        <p>按住下方按鈕開始說話</p>
        <p class="placeholder-sub">กดปุ่มด้านล่างค้างไว้เพื่อพูด</p>
      </div>
    </div>

    <!-- 錄音按鈕 -->
    <div class="record-area">
      <div id="ripple-container" class="ripple-container">
        <button id="btn-record" class="record-btn" aria-label="錄音">
          <svg class="mic-icon" width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1-9c0-.55.45-1 1-1s1 .45 1 1v6c0 .55-.45 1-1 1s-1-.45-1-1V5z" />
            <path
              d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z" />
          </svg>
        </button>
      </div>
      <div id="record-status" class="record-status">按住開始說話</div>
    </div>
  </div>

  <!-- 設定對話框 -->
  <div id="settings-dialog" class="dialog-overlay">
    <div class="dialog">
      <h2>設定 / ตั้งค่า</h2>
      <label class="field-label" for="api-key-input">Gemini API Key</label>
      <input id="api-key-input" type="password" class="field-input" placeholder="AIza..." />
      <div class="dialog-actions">
        <button id="btn-cancel-settings" class="btn-secondary">取消</button>
        <button id="btn-save-settings" class="btn-primary">儲存</button>
      </div>
    </div>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>

</html>